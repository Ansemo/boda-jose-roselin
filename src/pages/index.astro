<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Invitación de Boda</title>
	
	<!-- Meta datos Open Graph -->
	<meta property="og:type" content="website" />
	<meta property="og:title" content="¡Estás invitado a nuestra boda!" />
	<meta property="og:description" content="Con la bendición de Dios y de nuestros padres, te invitamos a celebrar nuestra boda. ¡Nos encantaría contar contigo en este día especial!" />
	<meta property="og:image" content="/portada-redes.png" />
	<meta property="og:url" content="https://boda-jose-and-roselin.netlify.app/" />
	<meta property="og:site_name" content="Invitación de Boda de José & Roselin" />
  
	<!-- Compatibilidad con Twitter -->
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:title" content="¡Estás invitado a nuestra boda!" />
	<meta name="twitter:description" content="Con la bendición de Dios y de nuestros padres, te invitamos a celebrar nuestra boda. ¡Nos encantaría contar contigo en este día especial!" />
	<meta name="twitter:image" content="/portada-redes.png" />
  
	<!-- Fuente adicional -->
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link
	  href="https://fonts.googleapis.com/css2?family=Alegreya:ital,wght@0,400..900;1,400..900&family=Great+Vibes&display=swap"
	  rel="stylesheet"
	/>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Alegreya:ital,wght@0,400..900;1,400..900&family=Great+Vibes&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Arial", sans-serif;
        margin: 0;
        padding: 0;
        background: #000;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        color: #fff;
      }

      .container {
        position: relative;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
      }

      .invitation-video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: -1;
      }

      .play-button,
      .countdown {
        position: absolute;
        opacity: 0;
        visibility: hidden;
        transition:
          opacity 0.5s ease,
          visibility 0.5s ease;
      }

      .play-button.show,
      .countdown.show {
        opacity: 1;
        visibility: visible;
      }

      .play-button {
        top: 70%;
        left: 50%;
        transform: translate(-50%, -50%);
        border: none;
        border-radius: 50%;
        width: 70px;
        height: 70px;
        font-size: 24px;
        color: #ffffff;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        mask-image: url("/rough-texture-contador.png");
        background: radial-gradient(
          circle,
          rgba(254, 246, 211, 1) 0%,
          rgba(203, 151, 50, 1) 41%
        );
        transition: all 0.3s linear;
      }

      .play-button:hover {
        background-color: rgba(255, 255, 255, 1);
      }

      .countdown {
        position: absolute;
        opacity: 0;
        visibility: hidden;
        transition:
          opacity 0.5s ease,
          visibility 0.5s ease;
        top: 40%;
        font-size: 42px;
        color: #114221;
        padding: 10px 20px;
        border-radius: 8px;
        text-align: center;
        mask-image: url("/rough-texture-contador.png");
        font-family: "Great Vibes", serif;
      }

      .countdown.show {
        opacity: 1;
        visibility: visible;
      }

      .countdown-timer {
        display: flex;
        justify-content: center;
        gap: 20px;
        font-size: 1.5rem;
        font-family: "Alegreya", serif;
      }

      .time-box {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .time-value {
        font-size: 3rem;
        font-weight: bold;
      }

      .time-label {
        font-size: 0.9rem;
        margin-top: 5px;
      }

      .invitation-video::-webkit-media-controls {
        display: none !important;
      }

      .invitation-video::-moz-media-controls {
        display: none !important;
      }

      .invitation-video {
        pointer-events: none; /* Evitar interacción con el video */
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Video principal -->
      <video
        class="invitation-video"
        id="video"
        src="/videos/invitacion.mp4"
        autoplay
        playsinline
        muted
        controls></video>

      <!-- Video de fondo -->
      <video
        class="invitation-video"
        id="backgroundVideo"
        src="/videos/invitacionFondo.mp4"
        loop
        playsinline
        muted
        style="display: none;"></video>

      <!-- Botón de reproducción -->
      <button id="playButton" class="play-button">▶</button>

      <!-- Contador regresivo -->
      <div class="countdown">
        <div class="countdown-title">¡Nuestra boda será en:</div>
        <div class="countdown-timer">
          <div class="time-box">
            <div id="days" class="time-value">0</div>
            <div class="time-label">Días</div>
          </div>
          <div class="time-box">
            <div id="hours" class="time-value">0</div>
            <div class="time-label">Horas</div>
          </div>
          <div class="time-box">
            <div id="minutes" class="time-value">0</div>
            <div class="time-label">Minutos</div>
          </div>
          <div class="time-box">
            <div id="seconds" class="time-value">0</div>
            <div class="time-label">Segundos</div>
          </div>
        </div>
      </div>
    </div>

    <script is:inline>
      const video = document.getElementById("video");
      const backgroundVideo = document.getElementById("backgroundVideo");
      const playButton = document.getElementById("playButton");
      const countdown = document.querySelector(".countdown");
      const audioButton = document.getElementById("audioButton");

      // Mostrar elemento con efecto suave
      function showElement(element) {
        element.classList.add("show");
        element.style.visibility = "visible";
      }

      // Ocultar elemento con efecto suave
      function hideElement(element) {
        element.classList.remove("show");
        element.style.visibility = "hidden";
      }

      // Configuración y lógica de los botones y videos
      const hasSeenVideo = localStorage.getItem("hasSeenVideo");

      if (hasSeenVideo) {
        video.style.display = "none";
        backgroundVideo.style.display = "block";
        backgroundVideo.muted = true;
        backgroundVideo.play();
        showElement(playButton);
        showElement(countdown);
      } else {
        hideElement(playButton);
        hideElement(countdown);
        backgroundVideo.style.display = "none";

        video.addEventListener("ended", () => {
          showElement(playButton);
          showElement(countdown);
          video.style.display = "none";
          backgroundVideo.style.display = "block";
          backgroundVideo.muted = true;
          backgroundVideo.play();
          localStorage.setItem("hasSeenVideo", "true");
        });
      }

      playButton.addEventListener("click", () => {
        if (localStorage.getItem("hasSeenVideo")) {
          // Mostrar y reproducir el video inicial nuevamente
          video.style.display = "block";
          backgroundVideo.style.display = "none";
          video.muted = false; // Desactivar mute si es necesario
          video.currentTime = 0; // Reiniciar el video al inicio
          video.play(); // Reproducir el video inicial
          hideElement(playButton); // Ocultar el botón de reproducción
          hideElement(countdown); // Ocultar el contador

          // Manejar qué pasa cuando termina el video inicial nuevamente
          video.addEventListener("ended", () => {
            video.style.display = "none"; // Ocultar el video inicial
            backgroundVideo.style.display = "block"; // Mostrar el segundo video
            backgroundVideo.play(); // Reproducir el segundo video
            showElement(playButton); // Mostrar el botón de reproducción
            showElement(countdown); // Mostrar el contador
          });
        }
      });

      // Función para actualizar el contador regresivo
      function updateCountdown() {
        const weddingDate = new Date("2024-12-14T00:00:00-05:00");
        const now = new Date();
        const timeDifference = weddingDate - now;

        if (timeDifference <= 0) {
          document.querySelector(".countdown-title").innerText =
            "¡Hoy es el gran día!";
          document.querySelector(".countdown-timer").style.display = "none";
          return;
        }

        const days = Math.floor(timeDifference / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeDifference / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((timeDifference / (1000 * 60)) % 60);
        const seconds = Math.floor((timeDifference / 1000) % 60);

        document.getElementById("days").innerText = days;
        document.getElementById("hours").innerText = hours;
        document.getElementById("minutes").innerText = minutes;
        document.getElementById("seconds").innerText = seconds;
      }

      setInterval(updateCountdown, 1000);
      updateCountdown();
    </script>
  </body>
</html>
